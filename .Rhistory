plot_ig_educ
plot_ig_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic() +
theme(axis.title.y = element_text(family="Times New Roman", size = 14, hjust = 0.5),
axis.title.x = element_text(family="Times New Roman", size = 14, hjust = 0.5),
axis.text.x = element_text(family="Times New Roman", colour = "black", size = 12, hjust = 0.5),
plot.title = element_text(family="Times New Roman", hjust=0.5, size=16)) + ggtitle("                                                             ") +
ylim(-0.2,0.2)
plot_ig_educ
plot_ig_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic() +
theme(axis.title.y = element_text(family="Times New Roman", size = 14, hjust = 0.5),
axis.title.x = element_text(family="Times New Roman", size = 14, hjust = 0.5),
axis.text.x = element_text(family="Times New Roman", colour = "black", size = 12, hjust = 0.5),
plot.title = element_text(family="Times New Roman", hjust=0.5, size=16)) + ggtitle("                                                             ") +
ylim(-0.2,0.2)
plot_ig_educ
plotdata<-na.omit(plotdata)
plot_ig_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic() +
theme(axis.title.y = element_text(family="Times New Roman", size = 14, hjust = 0.5),
axis.title.x = element_text(family="Times New Roman", size = 14, hjust = 0.5),
axis.text.x = element_text(family="Times New Roman", colour = "black", size = 12, hjust = 0.5),
plot.title = element_text(family="Times New Roman", hjust=0.5, size=16)) + ggtitle("                                                             ") +
ylim(-0.2,0.2)
plot_ig_educ
plot_ig_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic() +
ylim(-0.2,0.2)
plot_ig_educ
plot_ig_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic()
plot_ig_educ
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic()
plot_educ
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic(base_size = 10)
plot_educ
plotdata <- data %>%
group_by(educacion) %>%
summarize(n = n(),
mean = mean(mss1),
sd = sd(mss1),
se = sd / sqrt(n),
ci = qt(0.975, df = n - 1) * sd / sqrt(n))
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic(base_size = 10)
plot_educ
plotdata <- data %>%
group_by(educacion) %>%
summarize(n = n(),
mean = mean(mss1),
sd = sd(mss1),
se = sd / sqrt(n),
ci = qt(0.95, df = n - 1) * sd / sqrt(n))
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic(base_size = 10)
plot_educ
plotdata <- data %>%
group_by(educacion) %>%
summarize(n = n(),
mean = mean(mss1),
sd = sd(mss1),
se = sd / sqrt(n),
ci = qt(0.9, df = n - 1) * sd / sqrt(n))
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic(base_size = 10)
plot_educ
plotdata <- data %>%
group_by(educacion) %>%
summarize(n = n(),
mean = mean(mss1),
sd = sd(mss1),
se = sd / sqrt(n),
ci = qt(0.5, df = n - 1) * sd / sqrt(n))
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic(base_size = 10)
plot_educ
plotdata <- data %>%
group_by(educacion) %>%
summarize(n = n(),
mean = mean(mss1),
sd = sd(mss1),
se = sd / sqrt(n),
ci = qt(0.5, df = n - 1) * sd / sqrt(n))
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic(base_size = 10)
plot_educ
plotdata <- data %>%
group_by(educacion) %>%
summarize(n = n(),
mean = mean(mss1),
sd = sd(mss1),
se = sd / sqrt(n),
ci = qt(0.99, df = n - 1) * sd / sqrt(n))
plot_educ <- ggplot(plotdata,
aes(x = educacion,
y = mean,
group = 1)) +
geom_errorbar(aes(ymin = mean - se,
ymax = mean + se),
width = .05, colour="grey50") +
geom_point(shape = 21, colour = "#5A5858", fill = "white", size = 1.8) +
xlab("Nivel educacional") + ylab("Movilidad social subjetiva") + theme_classic(base_size = 10)
plot_educ
summary(data$meritocracia)
install.packages("xaringan")
install.packages("xaringan")
xaringan::inf_mr()
library(xaringan)
xaringan::inf_mr()
install.packages(‘htmltools’)
install.packages("htmltools")
install.packages("htmltools")
xaringan::inf_mr()
xaringan::inf_mr()
library(htmltools)
install.packages("htmltools")
install.packages("htmltools")
library(htmltools)
install.packages("xaringan")
install.packages("xaringan")
install.packages("htmltools")
install.packages("xaringanthemer")
install.packages("xaringan")
install.packages("htmltools")
install.packages("htmltools")
install.packages("knitr")
install.packages("knitr")
install.packages("xaringanExtra")
devtools::install_github("gadenbuie/xaringanExtra")
devtools::install_github("gadenbuie/xaringanExtra")
install.packages("rlang")
install.packages("rlang")
devtools::install_github("gadenbuie/xaringanExtra")
pacman::p_load(dplyr, summarytools, webshot, sjPlot, ggplot2, scales, sjlabelled, polycor, corrplot, survey, srvyr, GGally, tidyr)
data<- get(load("../input/data/data.RData"))
data <- na.omit(data)
data %>% select(msh4,mss4) %>%
ggpairs()
graf7 <- data %>% select(msh4,mss4) %>%
ggpairs()
xaringan::inf_mr()
---
# Antecedentes e hipótesis
cuando las personas comparan su posición actual con la de generaciones anteriores existe cierto grado de acuerdo sobre los progresos del país, pero predomina una sensación de que la movilidad sigue siendo relativa, de que los grupos altos siguen teniendo seguridades y ventajas que el resto no tiene [@pnud_Desiguales_2017 163]
* <p style="text-align: justify;"> </p>
* <p style="text-align: justify;"> </p>
---
load("C:/Users/kevin/Documents/Sociologia/9° Semestre/Ayudantia estadistica multivariada/grupo12/ELSOC_W04_v2.01_R.RData")
coes_long<- get(load("../input/data/ELSOC_Wide_2016_2019_v1.00_R.RData"))
data = coes_long %>% select(ess4=d01_01_w04,
esf4=d01_02_w04,
esh4=d01_03_w04,
educacion=m01_w04,
esfuerzo=c18_09_w04,
inteligencia=c18_10_w04,
oportunidades=c18_13_w04,
fe_poblacion=fact_exp01_w04,
fe_pobsex=fact_exp02_w04,
estrato=estrato_w04,
segmento=segmento_w04,
annio4=annio_entr_w04)
pacman::p_load(dplyr, sjmisc, car, sjlabelled, stargazer)
data = coes_long %>% select(ess4=d01_01_w04,
esf4=d01_02_w04,
esh4=d01_03_w04,
educacion=m01_w04,
esfuerzo=c18_09_w04,
inteligencia=c18_10_w04,
oportunidades=c18_13_w04,
fe_poblacion=fact_exp01_w04,
fe_pobsex=fact_exp02_w04,
estrato=estrato_w04,
segmento=segmento_w04,
annio4=annio_entr_w04)
summary(data$esfuerzo)
summary(data$inteligencia)
summary(data$oportunidades)
# igualdad de oportunidades
summary(data$oportunidades)
# Quitar NA
data$esfuerzo <- recode(data$esfuerzo, "c(-888,-999)=NA")
data$inteligencia <- recode(data$inteligencia, "c(-888,-999)=NA")
data$oportunidades <- recode(data$oportunidades, "c(-888,-999)=NA")
# cambiar etiqueta
get_label(data$esfuerzo)
data$esfuerzo <- set_label(x = data$esfuerzo,label = "Las personas son recompensadas por sus esfuerzos")
# cambiar etiqueta
get_label(data$esfuerzo)
get_label(data$inteligencia)
data$inteligencia <- set_label(x = data$inteligencia,label = "Las personas son recompensada por su inteligencia")
get_label(data$oportunidades)
data$oportunidades <- set_label(x = data$oportunidades,label = "Hay igualdad de oportunidades")
summary(data$esfuerzo)
summary(data$inteligencia)
summary(data$oportunidades)
pacman::p_load(dplyr, sjmisc, car, sjlabelled, stargazer, corrplot)
data %>% select(esfuerzo,inteligencia) %>%
ggpairs()
pacman::p_load(dplyr, summarytools, webshot, sjPlot, ggplot2, scales, sjlabelled, polycor, corrplot, survey, srvyr, GGally, tidyr)
data %>% select(esfuerzo,inteligencia) %>%
ggpairs()
data %>% select(esfuerzo,inteligencia, oportunidades) %>%
ggpairs()
data %>% select(esfuerzo,inteligencia, oportunidades, mss4) %>%
ggpairs()
# Quitar NA
## ESSS
data$ess4 <- recode(data$ess4, "c(-888,-999)=NA")
## ESF
data$esf4 <- recode(data$esf4, "c(-888,-999)=NA")
## ESH
data$esh4 <- recode(data$esh4, "c(-888,-999)=NA")
# cambiar etiqueta
data$ess4 <- set_label(x = data$ess4,label = "Estatus Social Subjetivo individual (2019)")
data$esf4 <- set_label(x = data$esf4,label = "Estatus Social Subjetivo familiar (2019)")
data$esh4 <- set_label(x = data$esh4,label = "Estatus Social Subjetivo hijos (2019)")
## 2019
data$mss4 <- (data$ess4-data$esf4)
data$mss4 <- set_label(x = data$mss4,label = "Movilidad social subjetiva experimentada (2019)")
## 2019
data$msh4 <- (data$esh4-data$ess4)
data$msh4 <- set_label(x = data$msh4,label = "Movilidad social subjetiva esperada (2019)")
## 2019
data$msg4 <- (data$esh4-data$esf4)
data$msg4 <- set_label(x = data$msg4,label = "Movilidad social subjetiva intergeneracional (2019)")
# NA
data$educacion <- recode(data$educacion, "c(-888,-999)=NA")
# recodificar
data$educacion <- car::recode(data$educacion, "c(1,2,3)=1;c(4,5)=2;c(6,7)=3;c(8,9,10)=4")
data$educacion <- factor(data$educacion,
levels = c("1",
"2",
"3",
"4"),
labels=c( "Educacion basica o menos",
"Educacion media",
"Educacion tecnica superior",
"Educacion universitaria y Postgrado"))
data$educacion <- set_label(x = data$educacion,label = "Nivel educacional")
data %>% select(esfuerzo,inteligencia, oportunidades, mss4) %>%
ggpairs()
data %>% select(esfuerzo,inteligencia, oportunidades, msh4) %>%
ggpairs()
load("C:/Users/kevin/Documents/Magister Ciencias Sociales Mencion Sociologia de la Modernizacion/Primer Semestre/Metodologia I/Investigacion/Paper/input/data/ELSOC_W04_v2.01_R.RData")
ggarrange(graf5, graf6,ncol = 2)
pacman::p_load(dplyr, summarytools, webshot, sjPlot, ggplot2, scales, sjlabelled, polycor, corrplot, survey, srvyr, GGally, tidyr)
data_long<- get(load("../input/data/data_long.RData"))
data<- get(load("../input/data/data.RData"))
data <- na.omit(data)
view(dfSummary(select(data, mss4, msh4, educacion, meritocracia),
plain.ascii = FALSE,
style = "grid",
#tmp.img.dir = "/tmp",
graph.magnif = 0.75,
headings = F,  # encabezado
varnumbers = F, # num variable
labels.col = T, # etiquetas
na.col = F,    # missing
graph.col = T, # plot
valid.col = T, # n valido
# col.widths = c(5,5,10,10,10,10)
), file = "../output/tables/table1.html")
summary(data$mss4)
tabla1 = round(prop.table(table(mss4=factor(data$mss4))),3)
tabla1 = as.data.frame(tabla1)
tabla1
graf1<-tabla1 %>% ggplot(aes(mss4, Freq)) +
geom_bar(stat = "identity",position = "dodge") +
geom_text(aes(label = paste(round(Freq*100,3),"%")), color = "black", vjust = -0.5, position = position_dodge(width = 1),size = 4) +
xlab("Movilidad social subjetiva experimentada") +
ylab("Porcentaje") +
scale_y_continuous(limits = c(0, 0.4))+
labs(subtitle = "Fuente: Elaboración propia en base datos ELSOC 2019") +
theme_classic(base_size = 11)
polychor(data$mss4, data$meritocracia)
graf5 <- ggplot(data, aes(meritocracia, mss4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva y Percepción de meritocracia [r=-0.01]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva experimentada") +
theme_classic(base_size = 10)
graf5
polychor(data$msh4, data$meritocracia)
graf6 <- ggplot(data, aes(meritocracia, msh4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva y Percepción de meritocracia [r=-0.02]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva experimentada") +
theme_classic(base_size = 10)
graf6
ggarrange(graf5, graf6,ncol = 2)
pacman::p_load(dplyr, summarytools, webshot, sjPlot, ggplot2, ggpubr, scales, sjlabelled, polycor, corrplot, survey, srvyr, GGally, tidyr)
ggarrange(graf5, graf6,ncol = 2)
graf6y7 <- ggarrange(graf5, graf6,ncol = 2)
ggsave(graf6y7, file = "../output/graphs/graf6y7.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
graf6 <- ggplot(data, aes(meritocracia, msh4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva y Percepción de meritocracia [r=-0.02]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva esperada") +
theme_classic(base_size = 10)
ggsave(graf6, file = "../output/graphs/graf6.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
graf6y7 <- ggarrange(graf5, graf6,ncol = 2)
graf6y7
ggsave(graf6y7, file = "../output/graphs/graf6y7.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
graf6 <- ggplot(data, aes(meritocracia, msh4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva y
Percepción de meritocracia [r=-0.02]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva esperada") +
theme_classic(base_size = 10)
graf5 <- ggplot(data, aes(meritocracia, mss4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva y
Percepción de meritocracia [r=-0.01]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva experimentada") +
theme_classic(base_size = 10)
graf6y7 <- ggarrange(graf5, graf6,ncol = 2)
graf6y7
y Percepción de meritocracia [r=-0.01]",
graf5 <- ggplot(data, aes(meritocracia, mss4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva
y Percepción de meritocracia [r=-0.01]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva experimentada") +
theme_classic(base_size = 10)
graf6 <- ggplot(data, aes(meritocracia, msh4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva
y Percepción de meritocracia [r=-0.02]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva esperada") +
theme_classic(base_size = 10)
graf6y7 <- ggarrange(graf5, graf6,ncol = 2)
ggsave(graf6y7, file = "../output/graphs/graf6y7.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
ggsave(graf6y7, file = "../output/graphs/graf6y7.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
graf5 <- ggplot(data, aes(meritocracia, mss4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva experimentada
y Percepción de meritocracia [r=-0.01]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva experimentada") +
theme_classic(base_size = 10)
graf6 <- ggplot(data, aes(meritocracia, msh4)) +
geom_point(size = 1) +
geom_smooth(method = "lm") +
labs(title = "Correlación entre Movilidad social subjetiva esperada
y Percepción de meritocracia [r=-0.02]",
x = "Percepción de meritocracia",
y = "Movilidad social subjetiva esperada") +
theme_classic(base_size = 10)
graf6y7 <- ggarrange(graf5, graf6,ncol = 2)
ggsave(graf6y7, file = "../output/graphs/graf6y7.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
ggsave(graf6y7, file = "../output/graphs/graf6y7.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
garrange(graf3, graf4, nrow = 2)
ggarrange(graf3, graf4, nrow = 2)
graf3 <- data  %>%
ggplot(aes(educacion, mss4)) +
geom_boxplot(fill = "lightgray", color = "darkred") +
stat_summary(fun = mean, geom = "point", size = 3, color = "steelblue") +
labs(subtitle = "Fuente: Elaboración propia en base datos ELSOC 2019",
x="Nivel educacional", y= "Movilidad subjetiva experimentada") +
theme_classic(base_size = 10)
graf4 <- data  %>%
ggplot(aes(educacion, msh4)) +
geom_boxplot(fill = "lightgray", color = "darkred") +
stat_summary(fun = mean, geom = "point", size = 3, color = "steelblue") +
labs(subtitle = "Fuente: Elaboración propia en base datos ELSOC 2019",
x="Nivel educacional", y= "Movilidad subjetiva esperada") +
theme_classic(base_size = 10)
ggarrange(graf3, graf4, nrow = 2)
graf3y4 <- ggarrange(graf3, graf4, nrow = 2)
polychor(data$msh4, data$mss4)
polychor(data$msh4, data$mss4)
view(dfSummary(select(data, mss4, msh4, educacion, meritocracia),
plain.ascii = FALSE,
style = "grid",
#tmp.img.dir = "/tmp",
graph.magnif = 1.0,
headings = F,  # encabezado
varnumbers = F, # num variable
labels.col = T, # etiquetas
na.col = F,    # missing
graph.col = T, # plot
valid.col = T, # n valido
# col.widths = c(5,5,10,10,10,10)
), file = "../output/tables/table1.html")
view(dfSummary(select(data, mss4, msh4, educacion, meritocracia),
plain.ascii = FALSE,
style = "grid",
#tmp.img.dir = "/tmp",
graph.magnif = 1.0,
headings = F,  # encabezado
varnumbers = F, # num variable
labels.col = T, # etiquetas
na.col = F,    # missing
graph.col = T, # plot
valid.col = T, # n valido
# col.widths = c(5,5,10,10,10,10)
), file = "../output/tables/table1.html")
view(dfSummary(select(data, mss4, msh4, educacion, meritocracia),
plain.ascii = FALSE,
style = "grid",
#tmp.img.dir = "/tmp",
graph.magnif = 1.0,
headings = F,  # encabezado
varnumbers = F, # num variable
labels.col = T, # etiquetas
na.col = F,    # missing
graph.col = T, # plot
valid.col = T, # n valido
# col.widths = c(5,5,10,10,10,10)
), file = "../output/tables/table1.html")
webshot(url ="../output/tables/table1.html" ,file ="../output/tables/table1.png")
